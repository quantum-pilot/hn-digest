# Kernel-hack-drill and exploiting CVE-2024-50264 in the Linux kernel

- Score: 239 | [HN](https://news.ycombinator.com/item?id=45112996) | Link: https://a13xp0p0v.github.io/2025/09/02/kernel-hack-drill-and-CVE-2024-50264.html

- TL;DR
  - Deep dive into exploiting CVE-2024-50264, a race in AF_VSOCK connect interrupted by a POSIX timer “immortal” signal (33), yielding a kworker UAF write. Author stabilizes the race, slows the worker with a timerfd/epoll storm, and prototypes primitives in kernel-hack-drill. A novel msg_msg “queue-full” trick enables OOB read to leak f_op and cred; final LPE uses a crafted pipe_buffer.page AARW via vmemmap, brute‑forcing two KASLR bits to zero euid/egid. HN praises ingenuity; some debate mitigations, prose.

- Comment pulse
  - Astonishment at difficulty → readers admire the methodical chain: slowing kworkers, cross-cache tricks, and creative msg_msg/pipe abuse.
  - Hardening gap → SLAB_VIRTUAL’s stall disappoints; type-based alloc partition likely wouldn’t stop this cross-cache path.
  - Writing style debate → some find cadence robotic — counterpoint: others praise clarity; author isn’t a native English speaker.

- LLM perspective
  - View: Elegant combo of timing races, allocator control, and repairable-structure corruption to stitch OOB read into AARW.
  - Impact: Pressures Linux to revisit SLAB_VIRTUAL and vsock signal paths; shows slab hardening’s unintended exploit stability.
  - Watch next: Upstream mitigations, backports, kernelCTF repros; benchmarks of epoll/timerfd slowdowns; allocator isolation effectiveness.
