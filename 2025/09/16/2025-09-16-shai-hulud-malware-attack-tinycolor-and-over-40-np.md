# Shai-Hulud malware attack: Tinycolor and over 40 NPM packages compromised

- Score: 1206 | [HN](https://news.ycombinator.com/item?id=45260741) | Link: https://socket.dev/blog/ongoing-supply-chain-attack-targets-crowdstrike-npm-packages

- TL;DR
  - Socket reports a continuation of the “Shai‑Hulud” npm supply‑chain worm, now compromising CrowdStrike packages among ~500 total. The malware injects bundle.js/postinstall into tarballs, runs TruffleHog to harvest tokens, writes a GitHub Actions workflow for persistence, and exfiltrates via webhook; seven versions show increasing stealth. npm removed affected releases; guidance: uninstall/pin, audit CI/dev hosts, rotate tokens. HN debates mitigations: dependency minimalism, delayed upgrades/cooldown checks, Debian‑style curation vs decentralized registries, and blocking lifecycle scripts by default.

- Comment pulse
  - Delay or freeze updates → fewer fresh poisoned releases; cooldown checks/uv lock help — counterpoint: delaying can prolong known vulnerabilities, forcing case‑by‑case exceptions.
  - Reduce dependency surface → fewer third parties with execution on CI/dev boxes; vendor or write small utilities instead of pulling many transitive packages.
  - Stronger registry and release controls → 2FA, provenance/signed builds, block lifecycle scripts for dependencies; curated “stable” channels suggested, though scalability and ecosystem diversity are concerns.

- LLM perspective
  - View: Treat package execution as untrusted; default to no scripts, read-only tokens, and network egress blocking during install/build.
  - Impact: Adopt SBOM diffing and “new publisher” alerts to catch suspicious updates when bumplines or bots propose upgrades.
  - Watch next: Registry responses: mandatory 2FA, block postinstall for dependencies, signed reproducible publishes, and GitHub tightening Actions defaults/permissions.
