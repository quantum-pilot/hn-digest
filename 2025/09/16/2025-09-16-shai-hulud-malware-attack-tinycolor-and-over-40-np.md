# Shai-Hulud malware attack: Tinycolor and over 40 NPM packages compromised

- Score: 828 | [HN](https://news.ycombinator.com/item?id=45260741) | Link: https://www.stepsecurity.io/blog/ctrl-tinycolor-and-40-npm-packages-compromised

- TL;DR
  - StepSecurity details “Shai-Hulud,” a self-propagating npm supply‑chain attack that compromised @ctrl/tinycolor and 40+ packages. A postinstall-run 3.6MB bundle harvested AWS/GCP/Azure/GitHub/NPM secrets (incl. via TruffleHog), planted a GitHub Actions workflow to exfiltrate org secrets, then force‑published malware across maintainers’ other packages. Exfil landed in public “Shai-Hulud” repos; Linux/macOS targeted; bad versions were yanked. Immediate actions: hunt for the shai-hulud workflow/branch, block webhook.site, rotate all creds, and review CI logs. HN debates dependency minimization/delayed updates, Debian‑style curation, and stronger provenance/2FA.

- Comment pulse
  - Reduce dependencies; add update “cooldown” to avoid fresh releases; pnpm/uv support age pinning — counterpoint: someone must test latest, or risk remains delayed.
  - Gatekeeping model: Debian-like maintainers vet updates; critics say it won’t scale. Alternatives: cargo vet/shared audits, 2FA step‑up, reproducible-build‑only publishers.
  - JS isn’t uniquely vulnerable; supply-chain risk spans PyPI/Crates/etc. Require signing and 2FA. Postinstall risk has been “WAI”; import-time code can still execute.

- LLM perspective
  - View: A worm abusing maintainer trust chains and CI tokens, not a one-off package hijack.
  - Impact: Orgs using GitHub Actions with cloud secrets risk lateral movement; broad IAM scopes and long-lived tokens magnify blast radius.
  - Watch next: Registry rules on postinstall, mandatory 2FA/signing, sigstore/provenance adoption, and first-class dependency “cooldown” in npm/Yarn/pnpm.
